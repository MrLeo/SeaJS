/*! Leo  @  11-01-2016 */
define("static/common-dist/map/baidu-map",[],function(a,b,c){var d=null;b.initMap=function(a,b,c,e){d=new BMap.Map(a);var f=new BMap.Point(b,c);d.centerAndZoom(f,e||15),d.addControl(new BMap.ZoomControl)},b.addMarker=function(a,b){var c=new BMap.Icon("http://api.map.baidu.com/mapCard/img/location.gif",new BMap.Size(14,23),{anchor:new BMap.Size(7,25)}),e=new BMap.Marker(new BMap.Point(a,b),{icon:c});return d.addOverlay(e),e},b.addInfoWindow=function(a,b,c){c&&(b+='<a href="javascript:void(0);" id="goGPS">一键导航</a>');var d=new BMap.InfoWindow(b);a.marker.addEventListener("click",function(){this.openInfoWindow(d),c&&document.getElementById("goGPS").addEventListener("click",function(){var a={name:c.start.name};if(c.start.latlng){var b=c.start.latlng.replace(/\s+/,""),d=b.split(",");a.latlng=new BMap.Point(d[0],d[1])}var e={name:c.end.name};if(c.end.latlng){var b=c.end.latlng.replace(/\s+/,""),f=b.split(",");e.latlng=new BMap.Point(f[0],f[1])}var g={mode:BMAP_MODE_DRIVING};c.region&&(g.region=c.region);var h=new BMap.RouteSearch;h.routeCall(a,e,g)})})}});